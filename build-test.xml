<?xml version="1.0" encoding="UTF-8"?>
<!--
  Generic build test file. To run a specific JUnit test class, use:
  ant -f build-test.xml -Dtestclass="fully.qualified.name.of.your.class"
-->
<project name="SQO-OSS" default="compile" basedir=".">
    <description>Builds and tests DB-related SQO-OSS code.</description>
	
    <property name="eu.sqooss.db.driver" value="src"/>
    <property name="eu.sqooss.db.url" value="jars"/>
    <property name="eu.sqooss.db.dialect" value="build"/>
    <property name="eu.sqooss.hibernate.config" value="lib"/>
	 
    <property name="srcdir" value="alitheia/core/src"/>
    <property name="repo" value="sqoossrepo"/>
    <property name="sharedlibs" value="sharedlibs/"/>
    <property name="bin" value="bin"/>
    <property name="builddir" value="alitheia/core/build"/>

    <property name="testclass" value="eu.sqooss.test.updater.BugFactoryTester"/>

    <path id="cp">
      <fileset dir="${repo}">
        <include name="**/*.jar"/>
      </fileset>
    </path>
    
    <path id="rcp">
      <path refid="cp"/>
      <dirset dir="${bin}"/>
    </path>

    <target name="init">
      <mkdir dir="${bin}"/>
    </target>
    
    <target name="clean">
      <delete quiet="true" dir="${bin}"/>
    </target>
    
    <target name="compile" depends="init">
      <javac  destdir="${bin}" classpathref="cp">
        <src path="${sharedlibs}/result/src"/>
        <src path="${srcdir}"/>	
        <include name="**/*.java"/>
      </javac>
    </target>

    <target name="run" depends="compile">
      <java classname="${testclass}" classpathref="rcp"/>
    </target>
    	
</project>
